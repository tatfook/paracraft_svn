<!-- "script/apps/Aries/Instance/Pages/InstanceMenuPage.html" -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
<pe:mcml>
<script type="text/npl" refresh="true">
<![CDATA[
NPL.load("(gl)script/apps/Aries/Instance/Pages/InstanceMenuPage.lua");
local InstanceMenuPage = commonlib.gettable("MyCompany.Aries.Instance.InstanceMenuPage");
local pageCtrl = document:GetPageCtrl();

function ClosePage()
    pageCtrl:CloseWindow();
end
function DoClick(index)
    InstanceMenuPage.DoClick(index);
    ClosePage();
end
function DS_Func_Items(index)
    return InstanceMenuPage.DS_Func_Items(index);
end
function GetTitle()
    if(InstanceMenuPage.menu_list and InstanceMenuPage.menu_list.title)then
        return InstanceMenuPage.menu_list.title;
    end
end
]]></script>
<aries:window width="240" height="180" mode="lite" isdeepbg="true" title="<%=GetTitle() %>" onclose="ClosePage">
    <div style="margin-left:3px;margin-top:30px;">
        <pe:gridview name="item_list_view" DataSource="<%=DS_Func_Items%>"  AllowPaging="false" pagesize="10">
		    <Columns>
		        <div style="width:220px;height:25px;margin-top:5px;">
                    <input type="button" onclick="DoClick" name='<%=Eval("index") %>' value='<%=Eval("label") %>' style="width:220px;height:25px;" class="defaultbutton"/>
                </div>
		    </Columns>
		    <EmptyDataTemplate>
			    <b>空</b>
		    </EmptyDataTemplate>
		    <FetchingDataTemplate>
			    <b>请稍等 ... </b>
		    </FetchingDataTemplate>
	    </pe:gridview>
    </div>
    </div>
</aries:window>   
</pe:mcml>
</body>
</html>

