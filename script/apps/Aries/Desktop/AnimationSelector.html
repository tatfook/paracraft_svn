<!-- "script/apps/Aries/Desktop/AnimationSelector.html" -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>AnimationSelector, by Andy, 2009/4/18</title>
</head>
<body>
<pe:mcml>
<script type="text/npl" refresh="false" src="AnimationSelector.lua"><![CDATA[
local pageCtrl = document:GetPageCtrl();


AnimationSelectorPage = MyCompany.Aries.Desktop.AnimationSelectorPage;
AnimationSelectorPage.initAnimList();

function OnClickAnim(gsid, mcmlNode)
    AnimationSelectorPage.PlayAnim(gsid);
end
]]></script>

<div style="margin-left:-5px;padding-left:12px;padding-top:17px;padding-bottom:16px;background:Texture/Aries/Dock/Action_Panel_32bits.png:62 29 65 34">
    <pe:gridview DataSource="<%=AnimationSelectorPage.all_anim_kids_ds%>" name="AnimationSelector" 
        VerticalScrollBarStep="45" CellPadding="2"  DefaultNodeHeight = "41" ItemsPerLine="5" AllowPaging="false" pagesize="250">
        <Columns>
            <div style="margin:1px;padding-left:3px;width:43px;height:39px;background:Texture/Aries/Dock/Action_Slot_32bits.png:3 3 4 4;">
                <pe:if condition='<%=AnimationSelectorPage.CanPlay(Eval("gsid")) == true%>' >
                    <pe:item gsid='<%=Eval("gsid")%>' style="width:38px;height:38px;" onclick="OnClickAnim"/>
                </pe:if>
                <pe:if condition='<%=not AnimationSelectorPage.CanPlay(Eval("gsid"))%>' >
                    <pe:item isclickable="false" gsid='<%=Eval("gsid")%>' style="width:38px;height:38px;background-color:#ffffff80" />
                </pe:if>
            </div>
        </Columns>
        <EmptyDataTemplate>
        </EmptyDataTemplate>
        <FetchingDataTemplate>
            <div style="margin-left:40px;margin-top:10px;">数据加载中，请稍等......</div>
        </FetchingDataTemplate>
    </pe:gridview>
</div>
</pe:mcml> 
</body>
</html>