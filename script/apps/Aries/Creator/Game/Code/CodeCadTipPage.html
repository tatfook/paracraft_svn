<!--script/apps/Aries/Creator/Game/Code/CodeCadTipPage.html-->
<pe:mcml>
<script type="text/npl" refresh="false" src="CodeCadTipPage.lua">
<![CDATA[
    local CodeCadTipPage = NPL.load("(gl)script/apps/Aries/Creator/Game/Code/CodeCadTipPage.lua");
    CodeCadTipPage:OnInit();
    function ClosePage()
        Page:CloseWindow();
    end
    function DS_Items(index)
        if(index == nil) then
            return #CodeCadTipPage.Current_Item_DS;
        else
            return CodeCadTipPage.Current_Item_DS[index];
        end
    end
    
    function GetImage(icon)
        return CodeCadTipPage:GetImage(icon);
    end
    local maxCharCount = 10;
    function GetName(name)
        local len = ParaMisc.GetUnicodeCharNum(name);
        if(len >= maxCharCount)then
	        name = ParaMisc.UniSubString(name, 1, maxCharCount-2) or "";
            return name .. "...";
        else
            return name;
        end
    end
    function OnSelected(index)
        CodeCadTipPage:OnSelected(index);
    end
]]></script>
<aries:window mode="thin" width="400" height="500" title='<%= L"NPLCAD 代码库"%>' onclose="ClosePage">
   <div style="color:#ffffff;">
        
       <div>
            <pe:gridview style="margin-left:10px;width:400px;height:400px;" name="item_gridview" CellPadding="10" VerticalScrollBarStep="36" VerticalScrollBarOffsetX="8" AllowPaging="false" ItemsPerLine="4" DefaultNodeHeight = "40" 
                DataSource='<%=DS_Items%>'>
	            <Columns>
                            <div style="width:80px;height:30px;">
                                <%=GetImage(Eval('index'))%>
                                <div style="color:#ffffff;text-align:center;">
                                    <%=GetName(Eval('name'))%>
                                </div>
                            </div>
                            
                </Columns>
	            <EmptyDataTemplate>
	            </EmptyDataTemplate>
            </pe:gridview>
       </div>
   </div>
</aries:window>
</pe:mcml>

