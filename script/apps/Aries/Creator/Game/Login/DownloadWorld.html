<!-- "script/apps/Aries/Creator/Game/Login/DownloadWorld.html" -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
<title>2018.4.9</title>
</head>
<body> 
<pe:mcml>
    <script type="text/npl" refresh="true" src="DownloadWorld.lua">
        <![CDATA[
            local page = document:GetPageCtrl();
            DownloadWorld = commonlib.gettable("MyCompany.Aries.Game.MainLogin.DownloadWorld")
            DownloadWorld.OnInit();

            local objParams = {
                name = "model",
                IsCharacter = false,
                AssetFile = "model/blockworld/BlockModel/block_model_four.x",
                ReplaceableTextures = {[3]="Texture/blocks/movie_three.png"},
                x = 0,
                y = 0,
                z = 0,
            }

            function GetModelParams()
                return objParams;
            end

            function close()
                DownloadWorld.Close()
            end
        ]]>
    </script>
    <div style="background:url(Texture/whitedot.png);background-color:#000000cc;width:512px;height:300px;color:#ffffff">
        <div style="margin:10px;font-size:14px;">
             <%=L"来自:"%><label name="url"></label>
            <pe:if condition="<%=DownloadWorld.HasCloseButton() == true%>">
                <input type="button" class="mc_light_grey_button_with_fillet" style="position:absolute;margin-left:455px;margin-top:-25px;color:#ffffff" value="<%= L'关闭' %>" onclick="close()"/>
            </pe:if>
        </div>
        <div style="margin-left:192px;margin:10px;">
            <pe:canvas3d miniscenegraphname="DownloadWorld128" autoRotateSpeed="1.5" DefaultCameraObjectDist="3.4" IsInteractive="false" RenderTargetSize="128" style="width:128px;height:128px;" value='<%=GetModelParams()%>' />
        </div>
        <div style="margin-top:10px">
            <label name="progressText" style="font-size:14px;width:512px;text-align:center;height:25px;" value='<%=L"正在下载世界, 请稍候..."%>'></label><br />
            <label name="progressText2" style="margin-top:3px;font-size:14px;width:512px;height:25px;text-align:center" value=""></label>
        </div>
    </div>
</pe:mcml>
</body>
</html>